{"version":3,"sources":["webpack:///./node_modules/vant/lib/dropdown-item/index.js","webpack:///./node_modules/vant/lib/dropdown-item/style/less.js","webpack:///./src/views/resources/index.vue?0477","webpack:///./node_modules/vant/lib/dropdown-menu/index.js","webpack:///./node_modules/vant/lib/mixins/click-outside.js","webpack:///./node_modules/vant/lib/dropdown-menu/style/less.js","webpack:///./src/components/TopNavBar/index.vue?9eba","webpack:///src/components/TopNavBar/index.vue","webpack:///./src/components/TopNavBar/index.vue?36de","webpack:///./src/components/TopNavBar/index.vue","webpack:///./node_modules/vant/lib/popup/index.js","webpack:///./src/components/TopNavBar/index.vue?1ed1","webpack:///./node_modules/vant/lib/icon/style/less.js","webpack:///./src/views/resources/index.vue?fedc","webpack:///src/views/resources/index.vue","webpack:///./src/views/resources/index.vue?cbd9","webpack:///./src/views/resources/index.vue"],"names":["_interopRequireDefault","exports","__esModule","default","_utils","_event","_portal","_relation","_cell","_icon","_popup","_createNamespace","createNamespace","createComponent","bem","_default2","mixins","PortalMixin","ref","ChildrenMixin","props","value","title","String","disabled","Boolean","titleClass","options","type","Array","lazyRender","data","transition","showPopup","showWrapper","computed","displayTitle","_this","this","match","filter","option","length","text","watch","val","bindScroll","beforeCreate","_this2","createEmitter","eventName","$emit","onOpen","onClose","onOpened","methods","toggle","show","immediate","parent","updateOffset","bind","scroller","action","on","off","onScroll","onClickWrapper","event","getContainer","stopPropagation","render","_this3","h","arguments","_this$parent","zIndex","offset","overlay","duration","direction","activeColor","closeOnClickOverlay","Options","map","active","icon","color","style","top","bottom","name","position","callback","$$v","slots","_scroll","_clickOutside","_default","ParentMixin","ClickOutsideMixin","method","Number","getScroller","$el","opened","children","some","item","barStyle","isDef","$refs","bar","rect","getBoundingClientRect","window","innerHeight","toggleItem","forEach","index","onClickOutside","Titles","down","config","closeOnClickOutside","clickOutsideHandler","contains","target","mounted","document","beforeDestroy","_vm","_h","$createElement","_c","_self","staticClass","attrs","goback","gohome","_v","_s","staticRenderFns","components","referer","popup","$router","go","push","component","PopupMixin","round","closeable","safeAreaInsetBottom","closeIcon","closeIconPosition","onClick","onClosed","_bem","shouldRender","isCenter","transitionName","key","close","class","hasDropdown","categories","model","categoryActive","expression","_l","id","$event","onRefresh","status","$set","finish","error","getMyResources","res","tag","Math","random","slot","_e","dropdownOpen","defaultStatus","created","getCategories","Promise","cates","unshift","resolve","currentPage","loading"],"mappings":"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","file":"js/chunk-e12c2fe8.56d70de8.js","sourcesContent":["\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nexports.__esModule = true;\nexports.default = void 0;\n\nvar _utils = require(\"../utils\");\n\nvar _event = require(\"../utils/dom/event\");\n\nvar _portal = require(\"../mixins/portal\");\n\nvar _relation = require(\"../mixins/relation\");\n\nvar _cell = _interopRequireDefault(require(\"../cell\"));\n\nvar _icon = _interopRequireDefault(require(\"../icon\"));\n\nvar _popup = _interopRequireDefault(require(\"../popup\"));\n\n// Utils\n// Mixins\n// Components\nvar _createNamespace = (0, _utils.createNamespace)('dropdown-item'),\n    createComponent = _createNamespace[0],\n    bem = _createNamespace[1];\n\nvar _default2 = createComponent({\n  mixins: [(0, _portal.PortalMixin)({\n    ref: 'wrapper'\n  }), (0, _relation.ChildrenMixin)('vanDropdownMenu')],\n  props: {\n    value: null,\n    title: String,\n    disabled: Boolean,\n    titleClass: String,\n    options: {\n      type: Array,\n      default: function _default() {\n        return [];\n      }\n    },\n    lazyRender: {\n      type: Boolean,\n      default: true\n    }\n  },\n  data: function data() {\n    return {\n      transition: true,\n      showPopup: false,\n      showWrapper: false\n    };\n  },\n  computed: {\n    displayTitle: function displayTitle() {\n      var _this = this;\n\n      if (this.title) {\n        return this.title;\n      }\n\n      var match = this.options.filter(function (option) {\n        return option.value === _this.value;\n      });\n      return match.length ? match[0].text : '';\n    }\n  },\n  watch: {\n    showPopup: function showPopup(val) {\n      this.bindScroll(val);\n    }\n  },\n  beforeCreate: function beforeCreate() {\n    var _this2 = this;\n\n    var createEmitter = function createEmitter(eventName) {\n      return function () {\n        return _this2.$emit(eventName);\n      };\n    };\n\n    this.onOpen = createEmitter('open');\n    this.onClose = createEmitter('close');\n    this.onOpened = createEmitter('opened');\n  },\n  methods: {\n    // @exposed-api\n    toggle: function toggle(show, options) {\n      if (show === void 0) {\n        show = !this.showPopup;\n      }\n\n      if (options === void 0) {\n        options = {};\n      }\n\n      if (show === this.showPopup) {\n        return;\n      }\n\n      this.transition = !options.immediate;\n      this.showPopup = show;\n\n      if (show) {\n        this.parent.updateOffset();\n        this.showWrapper = true;\n      }\n    },\n    bindScroll: function bindScroll(bind) {\n      var scroller = this.parent.scroller;\n      var action = bind ? _event.on : _event.off;\n      action(scroller, 'scroll', this.onScroll, true);\n    },\n    onScroll: function onScroll() {\n      this.parent.updateOffset();\n    },\n    onClickWrapper: function onClickWrapper(event) {\n      // prevent being identified as clicking outside and closed when use get-contaienr\n      if (this.getContainer) {\n        event.stopPropagation();\n      }\n    }\n  },\n  render: function render() {\n    var _this3 = this;\n\n    var h = arguments[0];\n    var _this$parent = this.parent,\n        zIndex = _this$parent.zIndex,\n        offset = _this$parent.offset,\n        overlay = _this$parent.overlay,\n        duration = _this$parent.duration,\n        direction = _this$parent.direction,\n        activeColor = _this$parent.activeColor,\n        closeOnClickOverlay = _this$parent.closeOnClickOverlay;\n    var Options = this.options.map(function (option) {\n      var active = option.value === _this3.value;\n      return h(_cell.default, {\n        \"attrs\": {\n          \"clickable\": true,\n          \"icon\": option.icon,\n          \"title\": option.text\n        },\n        \"key\": option.value,\n        \"class\": bem('option', {\n          active: active\n        }),\n        \"style\": {\n          color: active ? activeColor : ''\n        },\n        \"on\": {\n          \"click\": function click() {\n            _this3.showPopup = false;\n\n            if (option.value !== _this3.value) {\n              _this3.$emit('input', option.value);\n\n              _this3.$emit('change', option.value);\n            }\n          }\n        }\n      }, [active && h(_icon.default, {\n        \"class\": bem('icon'),\n        \"attrs\": {\n          \"color\": activeColor,\n          \"name\": \"success\"\n        }\n      })]);\n    });\n    var style = {\n      zIndex: zIndex\n    };\n\n    if (direction === 'down') {\n      style.top = offset + \"px\";\n    } else {\n      style.bottom = offset + \"px\";\n    }\n\n    return h(\"div\", [h(\"div\", {\n      \"directives\": [{\n        name: \"show\",\n        value: this.showWrapper\n      }],\n      \"ref\": \"wrapper\",\n      \"style\": style,\n      \"class\": bem([direction]),\n      \"on\": {\n        \"click\": this.onClickWrapper\n      }\n    }, [h(_popup.default, {\n      \"attrs\": {\n        \"overlay\": overlay,\n        \"position\": direction === 'down' ? 'top' : 'bottom',\n        \"duration\": this.transition ? duration : 0,\n        \"lazyRender\": this.lazyRender,\n        \"overlayStyle\": {\n          position: 'absolute'\n        },\n        \"closeOnClickOverlay\": closeOnClickOverlay\n      },\n      \"class\": bem('content'),\n      \"on\": {\n        \"open\": this.onOpen,\n        \"close\": this.onClose,\n        \"opened\": this.onOpened,\n        \"closed\": function closed() {\n          _this3.showWrapper = false;\n\n          _this3.$emit('closed');\n        }\n      },\n      \"model\": {\n        value: _this3.showPopup,\n        callback: function callback($$v) {\n          _this3.showPopup = $$v;\n        }\n      }\n    }, [Options, this.slots('default')])])]);\n  }\n});\n\nexports.default = _default2;","require('../../style/base.less');\nrequire('../../overlay/index.less');\nrequire('../../info/index.less');\nrequire('../../icon/index.less');\nrequire('../../cell/index.less');\nrequire('../../popup/index.less');\nrequire('../index.less');","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/@vue/cli-service/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/@vue/cli-service/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=196a9fe3&lang=scss&scoped=true&\"","\"use strict\";\n\nexports.__esModule = true;\nexports.default = void 0;\n\nvar _utils = require(\"../utils\");\n\nvar _scroll = require(\"../utils/dom/scroll\");\n\nvar _relation = require(\"../mixins/relation\");\n\nvar _clickOutside = require(\"../mixins/click-outside\");\n\n// Utils\n// Mixins\nvar _createNamespace = (0, _utils.createNamespace)('dropdown-menu'),\n    createComponent = _createNamespace[0],\n    bem = _createNamespace[1];\n\nvar _default = createComponent({\n  mixins: [(0, _relation.ParentMixin)('vanDropdownMenu'), (0, _clickOutside.ClickOutsideMixin)({\n    event: 'click',\n    method: 'onClickOutside'\n  })],\n  props: {\n    zIndex: [Number, String],\n    activeColor: String,\n    overlay: {\n      type: Boolean,\n      default: true\n    },\n    duration: {\n      type: [Number, String],\n      default: 0.2\n    },\n    direction: {\n      type: String,\n      default: 'down'\n    },\n    closeOnClickOverlay: {\n      type: Boolean,\n      default: true\n    }\n  },\n  data: function data() {\n    return {\n      offset: 0\n    };\n  },\n  computed: {\n    scroller: function scroller() {\n      return (0, _scroll.getScroller)(this.$el);\n    },\n    opened: function opened() {\n      return this.children.some(function (item) {\n        return item.showWrapper;\n      });\n    },\n    barStyle: function barStyle() {\n      if (this.opened && (0, _utils.isDef)(this.zIndex)) {\n        return {\n          zIndex: 1 + this.zIndex\n        };\n      }\n    }\n  },\n  methods: {\n    updateOffset: function updateOffset() {\n      if (!this.$refs.bar) {\n        return;\n      }\n\n      var rect = this.$refs.bar.getBoundingClientRect();\n\n      if (this.direction === 'down') {\n        this.offset = rect.bottom;\n      } else {\n        this.offset = window.innerHeight - rect.top;\n      }\n    },\n    toggleItem: function toggleItem(active) {\n      this.children.forEach(function (item, index) {\n        if (index === active) {\n          item.toggle();\n        } else if (item.showPopup) {\n          item.toggle(false, {\n            immediate: true\n          });\n        }\n      });\n    },\n    onClickOutside: function onClickOutside() {\n      this.children.forEach(function (item) {\n        item.toggle(false);\n      });\n    }\n  },\n  render: function render() {\n    var _this = this;\n\n    var h = arguments[0];\n    var Titles = this.children.map(function (item, index) {\n      return h(\"div\", {\n        \"attrs\": {\n          \"role\": \"button\",\n          \"tabindex\": item.disabled ? -1 : 0\n        },\n        \"class\": bem('item', {\n          disabled: item.disabled\n        }),\n        \"on\": {\n          \"click\": function click() {\n            if (!item.disabled) {\n              _this.toggleItem(index);\n            }\n          }\n        }\n      }, [h(\"span\", {\n        \"class\": [bem('title', {\n          active: item.showPopup,\n          down: item.showPopup === (_this.direction === 'down')\n        }), item.titleClass],\n        \"style\": {\n          color: item.showPopup ? _this.activeColor : ''\n        }\n      }, [h(\"div\", {\n        \"class\": \"van-ellipsis\"\n      }, [item.slots('title') || item.displayTitle])])]);\n    });\n    return h(\"div\", {\n      \"class\": bem()\n    }, [h(\"div\", {\n      \"ref\": \"bar\",\n      \"style\": this.barStyle,\n      \"class\": bem('bar', {\n        opened: this.opened\n      })\n    }, [Titles]), this.slots('default')]);\n  }\n});\n\nexports.default = _default;","\"use strict\";\n\nexports.__esModule = true;\nexports.ClickOutsideMixin = void 0;\n\nvar _event = require(\"../utils/dom/event\");\n\n/**\n * Listen to click outside event\n */\nvar ClickOutsideMixin = function ClickOutsideMixin(config) {\n  return {\n    props: {\n      closeOnClickOutside: {\n        type: Boolean,\n        default: true\n      }\n    },\n    data: function data() {\n      var _this = this;\n\n      var clickOutsideHandler = function clickOutsideHandler(event) {\n        if (_this.closeOnClickOutside && !_this.$el.contains(event.target)) {\n          _this[config.method]();\n        }\n      };\n\n      return {\n        clickOutsideHandler: clickOutsideHandler\n      };\n    },\n    mounted: function mounted() {\n      (0, _event.on)(document, config.event, this.clickOutsideHandler);\n    },\n    beforeDestroy: function beforeDestroy() {\n      (0, _event.off)(document, config.event, this.clickOutsideHandler);\n    }\n  };\n};\n\nexports.ClickOutsideMixin = ClickOutsideMixin;","require('../../style/base.less');\nrequire('../index.less');","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('van-row',{staticClass:\"title-bar\",attrs:{\"type\":\"flex\",\"align\":\"center\"}},[_c('van-col',{attrs:{\"span\":\"6\"}},[_c('span',{staticClass:\"iconfont icon-arrow-left\",on:{\"click\":_vm.goback}}),_c('span',{staticClass:\"iconfont icon-home\",on:{\"click\":_vm.gohome}})]),_c('van-col',{staticClass:\"title\",attrs:{\"span\":\"12\"}},[_c('div',{ref:\"title\"},[_vm._v(_vm._s(_vm.title))])])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <van-row class=\"title-bar\" type=\"flex\" align=\"center\">\r\n      <van-col span=\"6\">\r\n        <span class='iconfont icon-arrow-left' @click=\"goback\"/>\r\n        <span class='iconfont icon-home' @click=\"gohome\"/>\r\n      </van-col>\r\n      <van-col span=\"12\" class=\"title\"><div ref=\"title\">{{title}}</div></van-col>\r\n    </van-row>\r\n</template>\r\n<script>\r\nimport {Icon,Col, Row} from 'vant';\r\nexport default {\r\n  name: 'TopNavBar',\r\n  components: {[Icon.name]:Icon,[Col.name]:Col,[Row.name]:Row},\r\n  props: {\r\n    title: {\r\n      default: \"\",\r\n      type: String\r\n    },\r\n    referer: {\r\n      default: \"\",\r\n      type: String\r\n    },\r\n    popup: {\r\n      default: false,\r\n      type: Boolean\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      show: false\r\n    }\r\n  },\r\n  mounted(){\r\n    /* TODO\r\n    let target = this.$refs.title\r\n    if(target.scrollWidth > target.clientWidth){\r\n      setInterval(this.marquee, 20)\r\n    }\r\n    */\r\n  },\r\n  methods:{\r\n    goback( ){\r\n      if(this.popup){\r\n          this.$emit(\"close\")\r\n      }else{\r\n        if(this.referer.length==0){\r\n          this.$router.go(-1)\r\n        }else{\r\n          //fix 返回上一页无法触发beforeRouteLeave\r\n          this.$router.push( {path: this.referer })\r\n        }\r\n      }\r\n    },\r\n    gohome( ){\r\n      this.$router.push( {path: '/' })\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n  .title-bar{\r\n    font-size:34px;\r\n    padding:50px 50px 20px 50px;\r\n    color:#333;\r\n    background-color:#fff;\r\n  }\r\n  .icon-home{\r\n    margin-left:30px;\r\n  }\r\n  .icon-home,.icon-arrow-left{\r\n    cursor:pointer;\r\n    font-size:40px;\r\n  }\r\n  .title{\r\n    text-align: center;\r\n    white-space: nowrap;\r\n    overflow: hidden;\r\n    font-weight: bold;\r\n  }\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=0682cc47&scoped=true&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=0682cc47&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"0682cc47\",\n  null\n  \n)\n\nexport default component.exports","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nexports.__esModule = true;\nexports.default = void 0;\n\nvar _utils = require(\"../utils\");\n\nvar _popup = require(\"../mixins/popup\");\n\nvar _icon = _interopRequireDefault(require(\"../icon\"));\n\nvar _createNamespace = (0, _utils.createNamespace)('popup'),\n    createComponent = _createNamespace[0],\n    bem = _createNamespace[1];\n\nvar _default = createComponent({\n  mixins: [(0, _popup.PopupMixin)()],\n  props: {\n    round: Boolean,\n    duration: [Number, String],\n    closeable: Boolean,\n    transition: String,\n    safeAreaInsetBottom: Boolean,\n    closeIcon: {\n      type: String,\n      default: 'cross'\n    },\n    closeIconPosition: {\n      type: String,\n      default: 'top-right'\n    },\n    position: {\n      type: String,\n      default: 'center'\n    },\n    overlay: {\n      type: Boolean,\n      default: true\n    },\n    closeOnClickOverlay: {\n      type: Boolean,\n      default: true\n    }\n  },\n  beforeCreate: function beforeCreate() {\n    var _this = this;\n\n    var createEmitter = function createEmitter(eventName) {\n      return function (event) {\n        return _this.$emit(eventName, event);\n      };\n    };\n\n    this.onClick = createEmitter('click');\n    this.onOpened = createEmitter('opened');\n    this.onClosed = createEmitter('closed');\n  },\n  render: function render() {\n    var _bem;\n\n    var h = arguments[0];\n\n    if (!this.shouldRender) {\n      return;\n    }\n\n    var round = this.round,\n        position = this.position,\n        duration = this.duration;\n    var isCenter = position === 'center';\n    var transitionName = this.transition || (isCenter ? 'van-fade' : \"van-popup-slide-\" + position);\n    var style = {};\n\n    if ((0, _utils.isDef)(duration)) {\n      var key = isCenter ? 'animationDuration' : 'transitionDuration';\n      style[key] = duration + \"s\";\n    }\n\n    return h(\"transition\", {\n      \"attrs\": {\n        \"name\": transitionName\n      },\n      \"on\": {\n        \"afterEnter\": this.onOpened,\n        \"afterLeave\": this.onClosed\n      }\n    }, [h(\"div\", {\n      \"directives\": [{\n        name: \"show\",\n        value: this.value\n      }],\n      \"style\": style,\n      \"class\": bem((_bem = {\n        round: round\n      }, _bem[position] = position, _bem['safe-area-inset-bottom'] = this.safeAreaInsetBottom, _bem)),\n      \"on\": {\n        \"click\": this.onClick\n      }\n    }, [this.slots(), this.closeable && h(_icon.default, {\n      \"attrs\": {\n        \"role\": \"button\",\n        \"tabindex\": \"0\",\n        \"name\": this.closeIcon\n      },\n      \"class\": bem('close-icon', this.closeIconPosition),\n      \"on\": {\n        \"click\": this.close\n      }\n    })])]);\n  }\n});\n\nexports.default = _default;","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/@vue/cli-service/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/@vue/cli-service/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=0682cc47&lang=scss&scoped=true&\"","require('../../style/base.less');\nrequire('../../info/index.less');\nrequire('../index.less');","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"container\",attrs:{\"id\":\"resources\"}},[_c('top-nav-bar',{attrs:{\"title\":_vm.title}}),_c('div',{staticClass:\"resources-list-wrap\",class:{ hasDropdown: _vm.categories.length>8 }},[_c('van-tabs',{attrs:{\"color\":\"#1989fa\",\"title-active-color\":\"#1989fa\"},model:{value:(_vm.categoryActive),callback:function ($$v) {_vm.categoryActive=$$v},expression:\"categoryActive\"}},_vm._l((_vm.categories),function(item){return _c('van-tab',{key:item.id,attrs:{\"title\":item.name}},[_c('van-pull-refresh',{staticClass:\"resources-list-wrap\",on:{\"refresh\":function($event){return _vm.onRefresh(item)}},model:{value:(item.status.refreshing),callback:function ($$v) {_vm.$set(item.status, \"refreshing\", $$v)},expression:\"item.status.refreshing\"}},[_c('van-list',{attrs:{\"finished\":item.status.finish,\"finished-text\":\"没有更多了\",\"error-text\":\"请求失败，点击重新加载\",\"error\":item.status.error},on:{\"update:error\":function($event){return _vm.$set(item.status, \"error\", $event)},\"load\":function($event){return _vm.getMyResources(item)}},model:{value:(item.status.loading),callback:function ($$v) {_vm.$set(item.status, \"loading\", $$v)},expression:\"item.status.loading\"}},_vm._l((item.resources),function(res){return _c('resource-item',{key:item.tag+'_'+res.id+Math.random()*1000,attrs:{\"resource\":res}})}),1)],1)],1)}),1),(_vm.categories.length>8)?_c('van-dropdown-menu',{ref:\"dropdown\",staticClass:\"categories-dropdown\"},[_c('van-dropdown-item',{attrs:{\"options\":_vm.categories},model:{value:(_vm.categoryActive),callback:function ($$v) {_vm.categoryActive=$$v},expression:\"categoryActive\"}},[_c('span',{staticClass:\"iconfont icon-arrowdown\",attrs:{\"slot\":\"title\"},slot:\"title\"}),_c('span',{staticClass:\"iconfont icon-arrowup\",attrs:{\"slot\":\"title\"},slot:\"title\"})])],1):_vm._e()],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div id=\"resources\" class=\"container\">\r\n      <top-nav-bar :title=\"title\"/>\r\n      <div class=\"resources-list-wrap\" :class=\"{ hasDropdown: categories.length>8 }\">\r\n          <van-tabs v-model=\"categoryActive\"  color=\"#1989fa\" title-active-color=\"#1989fa\">\r\n            <van-tab v-for=\"item in categories\" :key=\"item.id\" :title=\"item.name\">\r\n                <van-pull-refresh v-model=\"item.status.refreshing\" @refresh=\"onRefresh(item)\" class=\"resources-list-wrap\">\r\n                    <van-list\r\n                      v-model=\"item.status.loading\"\r\n                      :finished=\"item.status.finish\"\r\n                      finished-text=\"没有更多了\"\r\n                      error-text=\"请求失败，点击重新加载\"\r\n                      :error.sync=\"item.status.error\"\r\n                      @load=\"getMyResources(item)\">\r\n                        <resource-item v-for=\"res in item.resources\" :key=\"item.tag+'_'+res.id+Math.random()*1000\" :resource=\"res\"/>\r\n                    </van-list>\r\n                </van-pull-refresh>\r\n            </van-tab>\r\n          </van-tabs>\r\n          <van-dropdown-menu v-if=\"categories.length>8\" class=\"categories-dropdown\" ref=\"dropdown\">\r\n            <van-dropdown-item v-model=\"categoryActive\" :options=\"categories\"><span class=\"iconfont icon-arrowdown\" slot=\"title\"></span><span class=\"iconfont icon-arrowup\" slot=\"title\"></span></van-dropdown-item>\r\n          </van-dropdown-menu>\r\n      </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport '@/styles/fonts/iconfont.css' // global css\r\nimport {Tab, Tabs, DropdownMenu, DropdownItem, PullRefresh, List} from 'vant';\r\nimport {getResourceCategories, getResourceList} from '@/api/resource'\r\nimport resourceItem from '@/views/resources/resourceItem'\r\nimport topNavBar from '@/components/TopNavBar'\r\nexport default {\r\n  name: 'resources',\r\n  components: { [Tab.name]:Tab,[Tabs.name]:Tabs,[DropdownMenu.name]:DropdownMenu,[DropdownItem.name]:DropdownItem, [PullRefresh.name]:PullRefresh, [List.name]:List,resourceItem, topNavBar},\r\n  data() {\r\n    return {\r\n      categoryActive:0,\r\n      title:\"\",\r\n      categories:[],\r\n      dropdownOpen:false,\r\n      defaultStatus: {\r\n          currentPage: 0,\r\n          error:false, \r\n          finish: false,\r\n          loading: false,\r\n          refreshing: false,\r\n      }\r\n    }\r\n  },\r\n  created(){\r\n    this.getCategories()\r\n  },\r\n  methods:{\r\n    \r\n    /*根据上级分类Id获取下级分类*/\r\n    getCategories( ){\r\n      let id = this.$route.params.id\r\n      return new Promise((resolve, reject) => {\r\n        getResourceCategories({id:id}).then(response => {\r\n          const { data } = response\r\n          let cates = data.subCategories\r\n          cates.unshift({id:\"all\",name:\"全部\"})\r\n          \r\n          for(let i=0; i<cates.length; i++){\r\n              cates[i].status = Object.assign({}, this.defaultStatus)\r\n              cates[i].text = cates[i].name //dropdown组件显示需要text字段\r\n              cates[i].value = i            //通知tabs组件当前选中分类序号\r\n              this.$set(this.categories, i, cates[i])   //绑定数据\r\n              //this.$set(this.categories[i], \"status\", Object.assign({}, this.defaultStatus))   //绑定数据\r\n          }\r\n          this.title = data.name\r\n          resolve()\r\n          }).catch(error => {\r\n            console.log(error)\r\n            reject(error)\r\n          })\r\n      })\r\n    },\r\n    getMyResources( category ){\r\n      return new Promise((resolve, reject) => {\r\n        let status = category.status\r\n        status.currentPage = status.currentPage+1\r\n        getResourceList({id:category.id, page: status.currentPage}).then(response => {\r\n          const { data } = response\r\n          if(response.empty && response.empty==true){\r\n             status.finish = true;\r\n          }else{\r\n               if( 1 == status.currentPage || !category.resources){\r\n                  this.$set(category, \"resources\", data.resources)\r\n              }else{\r\n                  category.resources =  category.resources.concat(data.resources)\r\n              }\r\n          }\r\n          status.loading = false\r\n          resolve()\r\n          }).catch(error => {\r\n              status.currentPage = status.currentPage-1\r\n              status.error = true\r\n              status.loading = false\r\n              status.errorMsg =  error\r\n              console.log(error)\r\n              reject(error)\r\n          })\r\n      })\r\n      \r\n    },\r\n    onRefresh( category ){\r\n      let status = category.status\r\n      status.currentPage = 0\r\n      this.getMyResources( category ).then(()=> status.refreshing=false).catch(()=> status.refreshing=false)\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n  ::v-deep .van-tabs__wrap{\r\n    box-shadow: 0 2px 12px rgba(100, 101, 102, 0.12);\r\n    height:80px;\r\n  }\r\n  .hasDropdown ::v-deep .van-tabs__wrap{\r\n    margin-right:80px;\r\n  }\r\n  ::v-deep .van-tabs__content{\r\n    margin-top:10px\r\n  }\r\n  .resources-list-wrap{\r\n    position: relative;\r\n  }\r\n  ::v-deep .van-dropdown-menu .van-dropdown-menu__bar{\r\n      height:80px;\r\n      width:80px;\r\n      box-shadow: 0 2px 12px rgba(100, 101, 102, 0.12);\r\n  }\r\n  ::v-deep .van-dropdown-menu__title{\r\n    color:#999;\r\n    &::after{\r\n      display: none;\r\n    }\r\n  }\r\n  ::v-deep .van-dropdown-item__content{\r\n      display: flex;\r\n      flex-wrap: wrap;\r\n      background-color:#f6f7fb;\r\n      .van-cell {\r\n        flex-basis: 25%;\r\n        white-space: nowrap;\r\n        font-size:22px;\r\n        background-color:transparent;\r\n        .van-cell__title{\r\n            border:1px solid #eee;\r\n            border-radius: 20px;\r\n            background-color:#fff;\r\n            text-align: center;\r\n        }\r\n        &:after,.van-cell__value{\r\n          display: none;\r\n        }\r\n      }\r\n      .van-dropdown-item__option--active{\r\n        .van-cell__title{\r\n          color:#fff;\r\n          background-color:#1989fa;\r\n        }\r\n      }\r\n  }\r\n  .categories-dropdown{\r\n    position: absolute;\r\n    right:0;\r\n    top:0;\r\n    border-left:1px solid #eee;\r\n    .icon-arrowup{\r\n      display:none;\r\n    }\r\n  }\r\n  ::v-deep .van-dropdown-menu__title--down{\r\n    .icon-arrowup{\r\n      display:block;\r\n    }\r\n     .icon-arrowdown{\r\n      display:none;\r\n    }\r\n  }\r\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=196a9fe3&scoped=true&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=196a9fe3&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"196a9fe3\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}